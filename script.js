// require("dotenv").config();

// const mapsKey = process.env.GOOGLE_MAPS_API_KEY;

var map = L.map("map").setView([33.6467, -117.8399], 15);

var tiles = L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
  maxZoom: 25,
  attribution:
    '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
}).addTo(map);


// var marker = L.marker([51.5, -0.09]).addTo(map);

// var circle = L.circle([51.508, -0.11], {
//   color: "red",
//   fillColor: "#f03",
//   fillOpacity: 0.5,
//   radius: 500,
// }).addTo(map);

var paloVerde = L.polygon([
  [33.64333608647028, -117.83561305919768],
  [33.64311829832835, -117.83492628861833],
  [33.642997718881475, -117.83408407500728],
  [33.642845877856296, -117.83324722581418],
  [33.64283347714768, -117.83324746533697],
  [33.64233754691256, -117.8315218117879],
  [33.64188884566993, -117.83008455516381],
  [33.64100718027652, -117.8303871355057],
  [33.64026861441745, -117.8303171410727],
  [33.639874882493956, -117.83043867923664],
  [33.640656937657106, -117.83228610561906],
  [33.64103232161243, -117.83348223592095],
  [33.64104274892116, -117.83350728577018],
  [33.64068300604974, -117.83383919631372],
  [33.64144941299507, -117.83501653926868],
  [33.642721529177216, -117.83628781911828],
  [33.64302912821909, -117.83586823414329]
]).addTo(map);

var mesaCourt = L.polygon([
  [33.65150077079017, -117.84608822018754],
  [33.6521259339639, -117.8462706103894],
  [33.652197380894634, -117.84588437231487],
  [33.65268137775683, -117.84605086493914],
  [33.65303617534847, -117.84561246380723],
  [33.65311189307567, -117.845145915523],
  [33.65370505832192, -117.84507082001515],
  [33.653797872869816, -117.84408197239387],
  [33.65342025677481, -117.84356552766857],
  [33.652920338827506, -117.8431131511235],
  [33.65278399706517, -117.84331594060923],
  [33.652553514071, -117.84310925132573],
  [33.651555468530724, -117.84284175406106],
  [33.650628830602194, -117.8430371774017],
  [33.650057477037954, -117.84337645981046],
  [33.65011013698967, -117.84394437228674],
  [33.65027536179653, -117.84413212690632],
  [33.65077996532429, -117.8444271698799],
  [33.6510478951986, -117.84460956008176],
  [33.65089160287328, -117.84501725582709],
  [33.6508354135671, -117.8455692822876]
]).addTo(map);

var middleEarth = L.polygon([
  [33.6458707831479, -117.83946923328607],
  [33.64584533912776, -117.83923236079805],
  [33.64583897812155, -117.83870512848601],
  [33.64571811891431, -117.83825430665398],
  [33.64560998158503, -117.83785697215797],
  [33.64559089851284, -117.83763538176592],
  [33.645400067558136, -117.83716163678992],
  [33.64534917923209, -117.8367184560059],
  [33.644884821867485, -117.83662676342988],
  [33.64489118294418, -117.83608424902185],
  [33.64478940566044, -117.8355340935658],
  [33.64398790534617, -117.83568691452582],
  [33.64347265120389, -117.83622942893385],
  [33.64344720647501, -117.83713107259791],
  [33.64417237830179, -117.83829251189397],
  [33.645082015026915, -117.83928584813403],
  [33.64526648563813, -117.83966790053405]
]).addTo(map);

var arroyoVista = L.polygon([
  [33.64700255761759, -117.82926928451585],
  [33.647148137951156, -117.82886771199979],
  [33.647466257082506, -117.82834955391455],
  [33.6474123386684, -117.8282264913693],
  [33.647552526474804, -117.8275723167867],
  [33.64760644480108, -117.82717074427063],
  [33.647568701976354, -117.82675136007177],
  [33.6474255920047, -117.82633746180481],
  [33.64706225363456, -117.82584866301904],
  [33.64692973517762, -117.82559926906585],
  [33.6470710881911, -117.82519068748296],
  [33.646527761277014, -117.82486700596925],
  [33.645732642538675, -117.82559926906585],
  [33.64473791574914, -117.82662062456981],
  [33.64493228103137, -117.8271883937824],
  [33.645369601311984, -117.8275120752961],
  [33.64578483265371, -117.82761820038257],
  [33.64640325859884, -117.82785167557277],
  [33.64653577786623, -117.82855210114343],
  [33.64655786439448, -117.82883863890378],
  [33.64661970663313, -117.82915436103382]
]).addTo(map);

var puertaDelSol = L.polygon([
  [33.64769949036798, -117.83439113593012],
  [33.64803211163665, -117.8334507091129],
  [33.64835925064075, -117.83194212197215],
  [33.6485211687527, -117.83087207772961],
  [33.648212248080334, -117.83086421874965],
  [33.648114003986805, -117.83107879546583],
  [33.647857607583035, -117.8318694620001],
  [33.64746727549202, -117.8335757444086],
  [33.64718590942532, -117.83413112064702],
]).addTo(map);

var plazaVerde = L.polygon([
  [33.648673491559926, -117.82974723905993],
  [33.64911164955864, -117.82825448064885],
  [33.64790491394531, -117.82784030490475],
  [33.647574495291494, -117.82844431119825],
  [33.647265624533404, -117.82888437292637],
  [33.647129146403515, -117.8294020926065],
  [33.648005475892575, -117.8296954670919],
]).addTo(map);

var plazaVerde2 = L.polygon([
  [33.64925530743338, -117.82749515845131],
  [33.64953543960445, -117.82619223053989],
  [33.648888979383926, -117.8260196573132],
  [33.64856574745301, -117.82590748471583],
  [33.64831434400095, -117.82568313952109],
  [33.647890547948194, -117.8257607974731],
  [33.64805575682707, -117.82642520439596],
  [33.6480916717588, -117.82720178391617]
]).addTo(map);

var vistaDelCampoNorte = L.polygon([
  [33.64912626577625, -117.82579137449152],
  [33.64938808464117, -117.82490364686319],
  [33.647825118478096, -117.82409898417751],
  [33.647589410479995, -117.82398387611993],
  [33.647526891072, -117.8237478417321],
  [33.645963891114945, -117.82300755206127],
  [33.644799478567236, -117.82259389560531],
  [33.6427554345759, -117.82248740155703],
  [33.64287154844711, -117.82302384334747],
  [33.64343079690273, -117.82354999755309],
  [33.643850589173, -117.82366801474697],
  [33.644850936970705, -117.82380748961252],
  [33.64631571098878, -117.82435466023875],
  [33.64709737709533, -117.82483268963445],
  [33.64806293981461, -117.82570039684374],
]).addTo(map);
// paloVerde.bindPopup("This is Palo Verde!");

paloVerde.on('mouseover', function (e) {
  // Color
  paloVerde.setStyle({fillColor: 'green'});
  // Popup
  var popup = L.popup()
  .setLatLng([33.64198729972923, -117.83325487380097])
  .setContent("This is Palo Verde!");

  // Open on map
  popup.openOn(map);
});

// Reset Palo Verde on Mouse Out
paloVerde.on('mouseout', function (e) {
  paloVerde.setStyle({fillColor: 'blue'});

  map.closePopup();
});

// var paloVerdePopup = L.popup()
//   .setLatLng([33.64198729972923, -117.83325487380097])
//   .setContent("This is Palo Verde!")
//   .openOn(map);

var mesaCourtPopup = L.popup()
  .setLatLng([33.652365592884045, -117.8447152197266])
  .setContent("This is Mesa Court!")
  .openOn(map);

var middleEarthPopup = L.popup()
  .setLatLng([33.64568656466327, -117.83735438096274])
  .setContent("This is Middle Earth!")
  .openOn(map);



  // Mousover Event
function highlightFeature(e) {
  var layer = e.target;
  layer.setStyle({
    weight: 5,
    color: "#666",
    dashArray: "",
    fillOpacity: 0.7,
  });

  layer.bringToFront
}

// On mouseout, reset the style
function resetHighlight(e) {
  var layer = e.target;
  layer.setStyle({
    weight: 2,
    opacity: 1,
    color: "white",
    dashArray: "3",
    fillOpacity: 0.7,
  });
}

// Zoom on click
function zoomToFeature(e) {
  map.fitBounds(e.target.getBounds());
}

// function onMapClick(e) {
//   alert("You clicked the map at " + e.latlng);
// }

// map.on("click", onMapClick);

// var popup = L.popup();

// function onMapClick(e) {
//   popup
//     .setLatLng(e.latlng)
//     .setContent("You clicked the map at " + e.latlng.toString())
//     .openOn(map);
// }

// map.on("click", onMapClick);